---
og: true
twitter: true
linkedin: true
---
@using RazorLight
@inherits TemplatePage<Xarial.Docify.Core.Compiler.Context.IncludeContextModel>
@functions{
    public class LinkedInMetadata
    {
        public string url { get; set; }
        public string description { get; set; }
        public string headline { get; set; }
        public string image { get; set; }
        [System.Text.Json.Serialization.JsonPropertyName("@type")]
        public string type { get; set; }
        [System.Text.Json.Serialization.JsonPropertyName("@context")]
        public string context { get; set; }
    }
}
@{
    const string VERSION = "0.1";

    dynamic title = "";
    dynamic description = "";
    dynamic image = "";
    dynamic lang = "";

    dynamic siteTitle = "";
    dynamic siteDescription = "";

    Model.Page.Data.TryGetValue("title", out title);
    Model.Page.Data.TryGetValue("description", out description);
    Model.Page.Data.TryGetValue("lang", out lang);

    if (Model.Page.Data.TryGetValue("image", out image))
    {
    }

    Model.Site.Configuration.TryGetValue("title", out siteTitle);
    Model.Site.Configuration.TryGetValue("description", out siteDescription);

    var og = Model.Data.Get<bool>("og");
    var twitter = Model.Data.Get<bool>("twitter");
    var linkedin = Model.Data.Get<bool>("linkedin");

    var ld = "";

    if (linkedin)
    {
        ld = System.Text.Json.JsonSerializer.Serialize(
            new LinkedInMetadata
            {
                url = Model.Page.FullUrl,
                description = description,
                headline = siteDescription,
                image = image,
                type = "WebPage",
                context = "http://schema.org"
            }).ToString();
    }
}
<meta name="generator" content="@string.Format("Docify v{0}", VERSION)" />
<meta name="description" content="@description" />
<link rel="canonical" href="@Model.Page.FullUrl" />
@if (og)
{
    <meta property="og:title" content="@title" />
    <meta property="og:locale" content="@lang" />
    <meta property="og:description" content="@description" />
    <meta property="og:url" content="@Model.Page.FullUrl" />
    <meta property="og:site_name" content="@siteTitle" />
    <meta property="og:image" content="@image" />
}
@if (twitter)
{
    <meta name="twitter:card" content="@description" />
    <meta name="twitter:site" content="@Model.Page.FullUrl" />
    <meta name="twitter:title" content="@title" />
    <meta name="twitter:description" content="@description" />
    <meta name="twitter:image" content="@image" />
}
@if (linkedin)
{
    <script type="application/ld+json">
        @Raw(@ld)
    </script>
}
